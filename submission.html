
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Positive Portfolio Factor</title>
  <!--this a comment to make file test-->

  <!-- Link to the jQuery -->
  <script src="https://code.jquery.com/jquery-2.2.3.js" integrity="sha256-laXWtGydpwqJ8JA+X9x2miwmaiKhn8tVmOVEigRNtP4=" crossorigin="anonymous"></script>

  <!-- Link to the Bootstrap-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <!-- link to google fonts -->
  <link href="https://fonts.googleapis.com/css?family=Cairo|Montserrat|Raleway|Titillium+Web" rel="stylesheet">

  <!--Link to Firebase library-->
  <script src="https://www.gstatic.com/firebasejs/4.3.0/firebase.js"></script>

  <!--Moment js, date library for parsing, validating, manipulating, and formatting dates-->

  <script src="https://cdn.jsdelivr.net/momentjs/2.18.1/moment.min.js"></script>

  <!-- style css file -->
  <link rel="stylesheet" href="assets/css/style.css">

  <link href="https://fonts.googleapis.com/css?family=Bungee+Inline" rel="stylesheet">

</head>

<body>

  <div class="container">

    <!-- Jumbotron with Title -->
    <div class="jumbotron">

      <h1 class="text-center"><strong>Positive Portfolio Factor</strong></h1>
      <h2 class="text-center">Submit your project for peer review</h2>
    </div>

<!--project table panel-->
    <div class="row">

      <div class ="col-lg-12">

<!--Adding projects-->
      <div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class ="panel-title addition"><strong>Add your project for review</strong></h3>
        </div> <!--close panel-heading-->

        <div class="panel-body">
             <!--close panel body-->
<!--Form-->
            <form>
              <div class ="form-group">
                <label for="">User Name (use your Github Login)</label>
                <input type="text" class="form-control" id="NameInput">
              </div>

              <div class = "form-group">
                 <label for="">Project Name (must match name in Github)</label>
                 <input type="text" class="form-control" id="ProjNameInput">
              </div>

              <div class = "form-group">
                 <label for="">Github pages link (e.g. user.github.io/project)</label>
                 <input type="text" class="form-control" id="githubInput">
              </div>

              <button type="submit" class="btn btn-primary" id="addProjectBtn">Submit</button>
            </form>

          </div>  <!--close panel body for adding project-->
        </div> <!--close panel-primary for adding project-->
      </div> <!--close class col-lg-12-->
    </div>  <!--close class row for all-->
  </div> <!--close container-->

<!--javascript file-->
<script type="text/javascript">


  
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDe27JaRxwKau9DdMBa0wLQXaD7ivPqOPs",
    authDomain: "positive-portfolio-factor.firebaseapp.com",
    databaseURL: "https://positive-portfolio-factor.firebaseio.com",
    projectId: "positive-portfolio-factor",
    storageBucket: "positive-portfolio-factor.appspot.com",
    messagingSenderId: "223064031382"
  };
  firebase.initializeApp(config);


  var datebase = firebase.database();
 


  $("#addProjectBtn").on("click", function(event){

  event.preventDefault();
  var userName = $("#NameInput").val().trim();
  var projectName = $("#ProjNameInput").val().trim();
  var projectLink = $("#githubInput").val().trim();


  

  console.log('work');


  var queryURL = "https://api.github.com/users/"+userName+ "/repos";
  console.log ("queryURL");

  


   
 
      $.ajax({
        url: queryURL,
        method: "GET"
      })

      .done(function(response) {

        var results = response;
        console.log("is this working?")

        console.log(queryURL);
        var avatar = response[0].owner.avatar_url;
        console.log(response[0].owner.avatar_url);
       

  datebase.ref().push({
    userName:userName,
    projectName:projectName,
    projectLink:projectLink,
    avatar:avatar,

    

  });
       

        
      });
         });
     

//upload project info/data to database
  //database.ref().push(newProjectInfo);
  //console.log(newProjectInfo.name);

  //clears text from boxes. study .val()
  //$("#proNameInput").val("");
 // $("#githubInput").val("");
  //$("#dateTimeInput").val("");
  //$("#commentInput").val("");
  //prevents going to new page
  //return false;
  //});//close add project btn event

  //create firebase event
  //database.ref().on("child_added", function(childSnapshot){//study firebase event and  childSnapShot
    //console.log(childSnapshot.val());

  //store childSnapSot values into a variable

  //var projectName=childSnapshot.val().name;
  //var githubName=childSnapshot.val().place;
  //var dateSubmit=childSnapshot.val().firstProSubmit;
  //var comment =childSnapshot.val().frequency;

//var firstTimeConverted = moment(firstProjectTime, "MM/DD/YY, HH:mm");
//console.log(firstTimeConverted);

  //store format in current time
  // var currentDate = moment.unix(firstProjectTime).format("MM/DD/YY, HH:mm");

  //var currentDate = moment().format("MM/DD/YY, HH:mm"); //study moment().format
  //console.log("Date Submitted" + currentDate);
 // console.log(firstProjectTime);

  //var diffDays = moment().diff(moment.unix(firstProjectTime, "X"), "days");
    //console.log(diffDays);


  //add tag to #projectTable at <tbody>
  //$("#projectTable>tbody").append("<tr><td>" + projectName + "</td><td>" + githubName + "</td><td>" + dateSubmit + "</td><td>" + comment +"</td><td>");
 // });//close firebase on event


// <tr> tag defines a row in an HTML table.
// <td> regular cell in tale
// <th> header cell in table

//The <tbody> tag is used to group the body content in an HTML table.
//The <tbody> element is used in conjunction with the <thead> and <tfoot> elements to specify each part of a table (body, header, footer).
//Browsers can use these elements to enable scrolling of the table body independently of the header and footer. Also, when printing a large table that spans multiple pages, these elements can enable the table header and footer to be printed at the top and bottom of each page.
//The <tbody> tag must be used in the following context: As a child of a <table> element, after any <caption>, <colgroup>, and <thead> elements.

</script>

</body>
</html>
